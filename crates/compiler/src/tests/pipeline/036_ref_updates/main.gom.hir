fn bump(local_0: Ref[int32]) -> int32 {
  let _ = ref_set(local_0, ref_get(local_0) + 1) in
  ref_get(local_0)
}

fn flip(local_0: Ref[bool]) -> bool {
  let local_1 = ref_get(local_0) in
  let _ = ref_set(local_0, !local_1) in
  ref_get(local_0)
}

fn nested_total(local_0: Ref[Ref[int32]]) -> int32 {
  let local_1 = ref_get(local_0) in
  let local_2 = ref_get(local_1) in
  let _ = ref_set(local_1, local_2 + 2) in
  local_2 + ref_get(local_1)
}

fn alias_bump(local_0: Ref[int32]) -> int32 {
  let local_1 = local_0 in
  let _ = ref_set(local_1, ref_get(local_1) + 5) in
  ref_get(local_1)
}

fn pair_sum() -> int32 {
  let local_0 = ref(4) in
  let local_1 = ref(6) in
  let _ = ref_set(local_0, ref_get(local_0) + ref_get(local_1)) in
  ref_get(local_0) + ref_get(local_1)
}

fn reassign_nested(local_0: Ref[Ref[int32]]) -> int32 {
  let local_1 = ref_get(local_0) in
  let _ = ref_set(local_1, ref_get(local_1) + 7) in
  ref_get(local_1)
}

fn main() -> () {
  let local_0 = ref(39) in
  let local_1 = ref(false) in
  let local_2 = ref(ref(3)) in
  let local_3 = bump(local_0) in
  let local_4 = flip(local_1) in
  let local_5 = flip(local_1) in
  let local_6 = ref_get(local_2) in
  let _ = ref_set(local_6, ref_get(local_6) + local_3) in
  let local_7 = nested_total(local_2) in
  let local_8 = alias_bump(local_0) in
  let local_9 = pair_sum() in
  let local_10 = reassign_nested(local_2) in
  let local_11 = !false in
  let _ = string_println(int32_to_string(local_3 + ref_get(local_0))) in
  let _ = string_println(int32_to_string(local_7 + local_8 + local_10)) in
  let _ = string_println(int32_to_string(local_9)) in
  let _ = string_println(bool_to_string(local_4 && local_5 && local_11)) in
  ()
}