FILE@0..219
  FN@0..65
    FnKeyword@0..2 "fn"
    Whitespace@2..3 " "
    Ident@3..8 "child"
    PARAM_LIST@8..29
      LParen@8..9 "("
      PARAM@9..27
        Ident@9..15 "signal"
        Colon@15..16 ":"
        Whitespace@16..17 " "
        TYPE_TAPP@17..27
          PATH@17..20
            Ident@17..20 "Ref"
          TYPE_PARAM_LIST@20..27
            LBracket@20..21 "["
            TYPE_INT32@21..26
              Int32Keyword@21..26 "int32"
            RBracket@26..27 "]"
      RParen@27..28 ")"
      Whitespace@28..29 " "
    Arrow@29..31 "->"
    Whitespace@31..32 " "
    TYPE_UNIT@32..37
      UnitKeyword@32..36 "unit"
      Whitespace@36..37 " "
    BLOCK@37..65
      LBrace@37..38 "{"
      Whitespace@38..43 "\n    "
      EXPR_CALL@43..62
        EXPR_IDENT@43..50
          PATH@43..50
            Ident@43..50 "ref_set"
        ARG_LIST@50..62
          LParen@50..51 "("
          ARG@51..59
            EXPR_IDENT@51..57
              PATH@51..57
                Ident@51..57 "signal"
            Comma@57..58 ","
            Whitespace@58..59 " "
          ARG@59..60
            EXPR_INT@59..60
              Int@59..60 "1"
          RParen@60..61 ")"
          Whitespace@61..62 "\n"
      RBrace@62..63 "}"
      Whitespace@63..65 "\n\n"
  FN@65..219
    FnKeyword@65..67 "fn"
    Whitespace@67..68 " "
    Ident@68..72 "main"
    PARAM_LIST@72..75
      LParen@72..73 "("
      RParen@73..74 ")"
      Whitespace@74..75 " "
    Arrow@75..77 "->"
    Whitespace@77..78 " "
    TYPE_UNIT@78..83
      UnitKeyword@78..82 "unit"
      Whitespace@82..83 " "
    BLOCK@83..219
      LBrace@83..84 "{"
      Whitespace@84..89 "\n    "
      STMT_LET@89..114
        LetKeyword@89..92 "let"
        Whitespace@92..93 " "
        PATTERN_VARIABLE@93..100
          Ident@93..99 "signal"
          Whitespace@99..100 " "
        Eq@100..101 "="
        Whitespace@101..102 " "
        EXPR_CALL@102..108
          EXPR_IDENT@102..105
            PATH@102..105
              Ident@102..105 "ref"
          ARG_LIST@105..108
            LParen@105..106 "("
            ARG@106..107
              EXPR_INT@106..107
                Int@106..107 "0"
            RParen@107..108 ")"
        Semi@108..109 ";"
        Whitespace@109..114 "\n    "
      STMT_EXPR@114..143
        EXPR_GO@114..137
          GoKeyword@114..116 "go"
          Whitespace@116..117 " "
          EXPR_CLOSURE@117..137
            CLOSURE_PARAM_LIST@117..120
              OrOr@117..119 "||"
              Whitespace@119..120 " "
            EXPR_CLOSURE_BODY@120..137
              BLOCK@120..137
                LBrace@120..121 "{"
                Whitespace@121..122 " "
                EXPR_CALL@122..136
                  EXPR_IDENT@122..127
                    PATH@122..127
                      Ident@122..127 "child"
                  ARG_LIST@127..136
                    LParen@127..128 "("
                    ARG@128..134
                      EXPR_IDENT@128..134
                        PATH@128..134
                          Ident@128..134 "signal"
                    RParen@134..135 ")"
                    Whitespace@135..136 " "
                RBrace@136..137 "}"
        Semi@137..138 ";"
        Whitespace@138..143 "\n    "
      STMT_EXPR@143..193
        EXPR_WHILE@143..187
          WhileKeyword@143..148 "while"
          Whitespace@148..149 " "
          EXPR_WHILE_COND@149..169
            EXPR_BINARY@149..169
              EXPR_CALL@149..165
                EXPR_IDENT@149..156
                  PATH@149..156
                    Ident@149..156 "ref_get"
                ARG_LIST@156..165
                  LParen@156..157 "("
                  ARG@157..163
                    EXPR_IDENT@157..163
                      PATH@157..163
                        Ident@157..163 "signal"
                  RParen@163..164 ")"
                  Whitespace@164..165 " "
              Less@165..166 "<"
              Whitespace@166..167 " "
              EXPR_INT@167..169
                Int@167..168 "1"
                Whitespace@168..169 " "
          EXPR_WHILE_BODY@169..187
            BLOCK@169..187
              LBrace@169..170 "{"
              Whitespace@170..179 "\n        "
              EXPR_UNIT@179..186
                LParen@179..180 "("
                RParen@180..181 ")"
                Whitespace@181..186 "\n    "
              RBrace@186..187 "}"
        Semi@187..188 ";"
        Whitespace@188..193 "\n    "
      STMT_EXPR@193..217
        EXPR_CALL@193..215
          EXPR_IDENT@193..207
            PATH@193..207
              Ident@193..207 "string_println"
          ARG_LIST@207..215
            LParen@207..208 "("
            ARG@208..214
              EXPR_STR@208..214
                Str@208..214 "\"main\""
            RParen@214..215 ")"
        Semi@215..216 ";"
        Whitespace@216..217 "\n"
      RBrace@217..218 "}"
      Whitespace@218..219 "\n"