fn child(signal: Ref[int32]) -> unit {
    ref_set(signal, 1)
}

fn main() -> unit {
    let signal = ref(0) in
    let _ = spawn(|| let _ = child(signal) in
      ()) in
    let _ = while ref_get(signal) < 1 {
        ()
    } in
    let _ = string_println("main") in
    ()
}

