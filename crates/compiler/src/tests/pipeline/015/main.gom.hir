enum IntList { Nil, Cons(int32, IntList) }

fn print_int_list(local_0: IntList) -> () {
  match local_0 {
    IntList::Nil => string_print("Nil"),
    IntList::Cons(local_1, local_2) => let _ = string_print("Cons") in
    let _ = string_print("(") in
    let _ = string_print(int32_to_string(local_1)) in
    let _ = string_print(", ") in
    let _ = print_int_list(local_2) in
    let _ = string_print(")") in
    (),
  }
}

fn int_list_rev_aux(local_0: IntList, local_1: IntList) -> IntList {
  match local_0 {
    IntList::Nil => local_1,
    IntList::Cons(local_2, local_3) => int_list_rev_aux(local_3, IntList::Cons(local_2, local_1)),
  }
}

fn int_list_rev(local_0: IntList) -> IntList {
  int_list_rev_aux(local_0, IntList::Nil)
}

fn int_list_length(local_0: IntList) -> int32 {
  match local_0 {
    IntList::Nil => 0,
    IntList::Cons(_, local_1) => 1 + int_list_length(local_1),
  }
}

fn print_int_list_length(local_0: IntList) -> () {
  let _ = string_print("Length: ") in
  let _ = string_println(int32_to_string(int_list_length(local_0))) in
  ()
}

fn main() -> () {
  let local_0 = IntList::Nil in
  let _ = print_int_list(local_0) in
  let _ = string_println("") in
  let _ = print_int_list_length(local_0) in
  let local_1 = IntList::Cons(1, IntList::Nil) in
  let _ = print_int_list(local_1) in
  let _ = string_println("") in
  let _ = print_int_list_length(local_1) in
  let local_2 = IntList::Cons(1, IntList::Cons(2, IntList::Cons(3, IntList::Nil))) in
  let _ = print_int_list(local_2) in
  let _ = string_println("") in
  let _ = print_int_list_length(local_2) in
  let local_3 = int_list_rev(local_2) in
  let _ = print_int_list(local_3) in
  let _ = string_println("") in
  ()
}