fn is_flag8(value/0: uint8) -> bool {
  match (value/0 : uint8) {
      0 => true,
      200 => true,
      _ : uint8 => false,
  }
}

fn is_flag16(value/1: uint16) -> bool {
  match (value/1 : uint16) {
      1024 => true,
      65000 => true,
      _ : uint16 => false,
  }
}

fn is_flag32(value/2: uint32) -> bool {
  match (value/2 : uint32) {
      4000000000 => true,
      1234567890 => true,
      _ : uint32 => false,
  }
}

fn is_flag64(value/3: uint64) -> bool {
  match (value/3 : uint64) {
      900000000 => true,
      600000000 => true,
      _ : uint64 => false,
  }
}

fn match_struct(counter/4: Counter) -> bool {
  match (counter/4 : Counter) {
      Counter { start: 4000000000, end: 900000000 } => true,
      Counter { start: _ : uint32, end: 600000000 } => true,
      _ : Counter => false,
  }
}

fn report(label/5: string, value/6: bool) -> string {
  (label/5 : string) + (bool_to_string : (bool) -> string)((value/6 : bool))
}

fn main() -> unit {
  let counter/7: Counter = Counter { start: 4000000000, end: 900000000 } in
  let alt_counter/8: Counter = Counter { start: 12, end: 600000000 } in
  let message/9: string = (report : (string, bool) -> string)("u8_hit=", (is_flag8 : (uint8) -> bool)(200)) + (report : (string, bool) -> string)(",u8_miss=", (is_flag8 : (uint8) -> bool)(15)) + (report : (string, bool) -> string)(",u16_hit=", (is_flag16 : (uint16) -> bool)(65000)) + (report : (string, bool) -> string)(",u16_miss=", (is_flag16 : (uint16) -> bool)(42)) + (report : (string, bool) -> string)(",u32_hit=", (is_flag32 : (uint32) -> bool)(1234567890)) + (report : (string, bool) -> string)(",u32_miss=", (is_flag32 : (uint32) -> bool)(99)) + (report : (string, bool) -> string)(",u64_hit=", (is_flag64 : (uint64) -> bool)(900000000)) + (report : (string, bool) -> string)(",u64_miss=", (is_flag64 : (uint64) -> bool)(700000000)) + (report : (string, bool) -> string)(",struct_first=", (match_struct : (Counter) -> bool)((counter/7 : Counter))) + (report : (string, bool) -> string)(",struct_second=", (match_struct : (Counter) -> bool)((alt_counter/8 : Counter))) in
  let _ : unit = (string_println : (string) -> unit)((message/9 : string)) in
  ()
}