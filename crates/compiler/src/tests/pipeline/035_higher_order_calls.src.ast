fn double(x: int) -> int {
    x * 2
}

fn increment(x: int) -> int {
    x + 1
}

fn chooser(flag: bool) -> (int) -> int {
    if flag {
        double
    } else {
        increment
    }
}

fn main() {
    let xs = [double, increment] in
    let f = array_get(xs, 0) in
    let g = array_get(xs, 1) in
    let _ = string_println(int_to_string(g(f(10)))) in
    let chosen = chooser(true) in
    let applied = chosen(5) in
    let direct = chooser(false)(5) in
    let printer = string_println in
    let _ = printer(int_to_string(applied)) in
    let _ = printer(int_to_string(direct)) in
    ()
}

