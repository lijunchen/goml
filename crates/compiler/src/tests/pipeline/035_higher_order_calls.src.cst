FILE@0..581
  FN@0..40
    FnKeyword@0..2 "fn"
    Whitespace@2..3 " "
    Lident@3..9 "double"
    PARAM_LIST@9..18
      LParen@9..10 "("
      PARAM@10..16
        Lident@10..11 "x"
        Colon@11..12 ":"
        Whitespace@12..13 " "
        TYPE_INT@13..16
          IntKeyword@13..16 "int"
      RParen@16..17 ")"
      Whitespace@17..18 " "
    Arrow@18..20 "->"
    Whitespace@20..21 " "
    TYPE_INT@21..25
      IntKeyword@21..24 "int"
      Whitespace@24..25 " "
    BLOCK@25..40
      LBrace@25..26 "{"
      Whitespace@26..31 "\n    "
      EXPR_BINARY@31..37
        EXPR_LIDENT@31..33
          Lident@31..32 "x"
          Whitespace@32..33 " "
        Star@33..34 "*"
        Whitespace@34..35 " "
        EXPR_INT@35..37
          Int@35..36 "2"
          Whitespace@36..37 "\n"
      RBrace@37..38 "}"
      Whitespace@38..40 "\n\n"
  FN@40..83
    FnKeyword@40..42 "fn"
    Whitespace@42..43 " "
    Lident@43..52 "increment"
    PARAM_LIST@52..61
      LParen@52..53 "("
      PARAM@53..59
        Lident@53..54 "x"
        Colon@54..55 ":"
        Whitespace@55..56 " "
        TYPE_INT@56..59
          IntKeyword@56..59 "int"
      RParen@59..60 ")"
      Whitespace@60..61 " "
    Arrow@61..63 "->"
    Whitespace@63..64 " "
    TYPE_INT@64..68
      IntKeyword@64..67 "int"
      Whitespace@67..68 " "
    BLOCK@68..83
      LBrace@68..69 "{"
      Whitespace@69..74 "\n    "
      EXPR_BINARY@74..80
        EXPR_LIDENT@74..76
          Lident@74..75 "x"
          Whitespace@75..76 " "
        Plus@76..77 "+"
        Whitespace@77..78 " "
        EXPR_INT@78..80
          Int@78..79 "1"
          Whitespace@79..80 "\n"
      RBrace@80..81 "}"
      Whitespace@81..83 "\n\n"
  FN@83..193
    FnKeyword@83..85 "fn"
    Whitespace@85..86 " "
    Lident@86..93 "chooser"
    PARAM_LIST@93..106
      LParen@93..94 "("
      PARAM@94..104
        Lident@94..98 "flag"
        Colon@98..99 ":"
        Whitespace@99..100 " "
        TYPE_BOOL@100..104
          BoolKeyword@100..104 "bool"
      RParen@104..105 ")"
      Whitespace@105..106 " "
    Arrow@106..108 "->"
    Whitespace@108..109 " "
    TYPE_FUNC@109..122
      TYPE_TUPLE@109..115
        TYPE_LIST@109..115
          LParen@109..110 "("
          TYPE_INT@110..113
            IntKeyword@110..113 "int"
          RParen@113..114 ")"
          Whitespace@114..115 " "
      Arrow@115..117 "->"
      Whitespace@117..118 " "
      TYPE_INT@118..122
        IntKeyword@118..121 "int"
        Whitespace@121..122 " "
    BLOCK@122..193
      LBrace@122..123 "{"
      Whitespace@123..128 "\n    "
      EXPR_IF@128..190
        IfKeyword@128..130 "if"
        Whitespace@130..131 " "
        EXPR_IF_COND@131..136
          EXPR_LIDENT@131..136
            Lident@131..135 "flag"
            Whitespace@135..136 " "
        EXPR_IF_THEN@136..159
          BLOCK@136..159
            LBrace@136..137 "{"
            Whitespace@137..146 "\n        "
            EXPR_LIDENT@146..157
              Lident@146..152 "double"
              Whitespace@152..157 "\n    "
            RBrace@157..158 "}"
            Whitespace@158..159 " "
        ElseKeyword@159..163 "else"
        Whitespace@163..164 " "
        EXPR_IF_ELSE@164..190
          BLOCK@164..190
            LBrace@164..165 "{"
            Whitespace@165..174 "\n        "
            EXPR_LIDENT@174..188
              Lident@174..183 "increment"
              Whitespace@183..188 "\n    "
            RBrace@188..189 "}"
            Whitespace@189..190 "\n"
      RBrace@190..191 "}"
      Whitespace@191..193 "\n\n"
  FN@193..581
    FnKeyword@193..195 "fn"
    Whitespace@195..196 " "
    Lident@196..200 "main"
    PARAM_LIST@200..203
      LParen@200..201 "("
      RParen@201..202 ")"
      Whitespace@202..203 " "
    BLOCK@203..581
      LBrace@203..204 "{"
      Whitespace@204..209 "\n    "
      EXPR_LET@209..579
        LetKeyword@209..212 "let"
        Whitespace@212..213 " "
        PATTERN_VARIABLE@213..216
          Lident@213..215 "xs"
          Whitespace@215..216 " "
        Eq@216..217 "="
        Whitespace@217..218 " "
        EXPR_LET_VALUE@218..237
          EXPR_ARRAY_LITERAL@218..237
            LBracket@218..219 "["
            EXPR_LIDENT@219..225
              Lident@219..225 "double"
            Comma@225..226 ","
            Whitespace@226..227 " "
            EXPR_LIDENT@227..236
              Lident@227..236 "increment"
            RBracket@236..237 "]"
        Semi@237..238 ";"
        Whitespace@238..243 "\n    "
        EXPR_LET_BODY@243..579
          EXPR_LET@243..579
            LetKeyword@243..246 "let"
            Whitespace@246..247 " "
            PATTERN_VARIABLE@247..249
              Lident@247..248 "f"
              Whitespace@248..249 " "
            Eq@249..250 "="
            Whitespace@250..251 " "
            EXPR_LET_VALUE@251..267
              EXPR_CALL@251..267
                EXPR_LIDENT@251..260
                  Lident@251..260 "array_get"
                ARG_LIST@260..267
                  LParen@260..261 "("
                  ARG@261..265
                    EXPR_LIDENT@261..263
                      Lident@261..263 "xs"
                    Comma@263..264 ","
                    Whitespace@264..265 " "
                  ARG@265..266
                    EXPR_INT@265..266
                      Int@265..266 "0"
                  RParen@266..267 ")"
            Semi@267..268 ";"
            Whitespace@268..273 "\n    "
            EXPR_LET_BODY@273..579
              EXPR_LET@273..579
                LetKeyword@273..276 "let"
                Whitespace@276..277 " "
                PATTERN_VARIABLE@277..279
                  Lident@277..278 "g"
                  Whitespace@278..279 " "
                Eq@279..280 "="
                Whitespace@280..281 " "
                EXPR_LET_VALUE@281..297
                  EXPR_CALL@281..297
                    EXPR_LIDENT@281..290
                      Lident@281..290 "array_get"
                    ARG_LIST@290..297
                      LParen@290..291 "("
                      ARG@291..295
                        EXPR_LIDENT@291..293
                          Lident@291..293 "xs"
                        Comma@293..294 ","
                        Whitespace@294..295 " "
                      ARG@295..296
                        EXPR_INT@295..296
                          Int@295..296 "1"
                      RParen@296..297 ")"
                Semi@297..298 ";"
                Whitespace@298..303 "\n    "
                EXPR_LET_BODY@303..579
                  EXPR_LET@303..579
                    LetKeyword@303..306 "let"
                    Whitespace@306..307 " "
                    PATTERN_WILDCARD@307..309
                      WildcardKeyword@307..308 "_"
                      Whitespace@308..309 " "
                    Eq@309..310 "="
                    Whitespace@310..311 " "
                    EXPR_LET_VALUE@311..350
                      EXPR_CALL@311..350
                        EXPR_LIDENT@311..325
                          Lident@311..325 "string_println"
                        ARG_LIST@325..350
                          LParen@325..326 "("
                          ARG@326..349
                            EXPR_CALL@326..349
                              EXPR_LIDENT@326..339
                                Lident@326..339 "int_to_string"
                              ARG_LIST@339..349
                                LParen@339..340 "("
                                ARG@340..348
                                  EXPR_CALL@340..348
                                    EXPR_LIDENT@340..341
                                      Lident@340..341 "g"
                                    ARG_LIST@341..348
                                      LParen@341..342 "("
                                      ARG@342..347
                                        EXPR_CALL@342..347
                                          EXPR_LIDENT@342..343
                                            Lident@342..343 "f"
                                          ARG_LIST@343..347
                                            LParen@343..344 "("
                                            ARG@344..346
                                              EXPR_INT@344..346
                                                Int@344..346 "10"
                                            RParen@346..347 ")"
                                      RParen@347..348 ")"
                                RParen@348..349 ")"
                          RParen@349..350 ")"
                    Semi@350..351 ";"
                    Whitespace@351..356 "\n    "
                    EXPR_LET_BODY@356..579
                      EXPR_LET@356..579
                        LetKeyword@356..359 "let"
                        Whitespace@359..360 " "
                        PATTERN_VARIABLE@360..367
                          Lident@360..366 "chosen"
                          Whitespace@366..367 " "
                        Eq@367..368 "="
                        Whitespace@368..369 " "
                        EXPR_LET_VALUE@369..382
                          EXPR_CALL@369..382
                            EXPR_LIDENT@369..376
                              Lident@369..376 "chooser"
                            ARG_LIST@376..382
                              LParen@376..377 "("
                              ARG@377..381
                                EXPR_BOOL@377..381
                                  TrueKeyword@377..381 "true"
                              RParen@381..382 ")"
                        Semi@382..383 ";"
                        Whitespace@383..388 "\n    "
                        EXPR_LET_BODY@388..579
                          EXPR_LET@388..579
                            LetKeyword@388..391 "let"
                            Whitespace@391..392 " "
                            PATTERN_VARIABLE@392..400
                              Lident@392..399 "applied"
                              Whitespace@399..400 " "
                            Eq@400..401 "="
                            Whitespace@401..402 " "
                            EXPR_LET_VALUE@402..411
                              EXPR_CALL@402..411
                                EXPR_LIDENT@402..408
                                  Lident@402..408 "chosen"
                                ARG_LIST@408..411
                                  LParen@408..409 "("
                                  ARG@409..410
                                    EXPR_INT@409..410
                                      Int@409..410 "5"
                                  RParen@410..411 ")"
                            Semi@411..412 ";"
                            Whitespace@412..417 "\n    "
                            EXPR_LET_BODY@417..579
                              EXPR_LET@417..579
                                LetKeyword@417..420 "let"
                                Whitespace@420..421 " "
                                PATTERN_VARIABLE@421..428
                                  Lident@421..427 "direct"
                                  Whitespace@427..428 " "
                                Eq@428..429 "="
                                Whitespace@429..430 " "
                                EXPR_LET_VALUE@430..447
                                  EXPR_CALL@430..447
                                    EXPR_CALL@430..444
                                      EXPR_LIDENT@430..437
                                        Lident@430..437 "chooser"
                                      ARG_LIST@437..444
                                        LParen@437..438 "("
                                        ARG@438..443
                                          EXPR_BOOL@438..443
                                            FalseKeyword@438..443 "false"
                                        RParen@443..444 ")"
                                    ARG_LIST@444..447
                                      LParen@444..445 "("
                                      ARG@445..446
                                        EXPR_INT@445..446
                                          Int@445..446 "5"
                                      RParen@446..447 ")"
                                Semi@447..448 ";"
                                Whitespace@448..453 "\n    "
                                EXPR_LET_BODY@453..579
                                  EXPR_LET@453..579
                                    LetKeyword@453..456 "let"
                                    Whitespace@456..457 " "
                                    PATTERN_VARIABLE@457..465
                                      Lident@457..464 "printer"
                                      Whitespace@464..465 " "
                                    Eq@465..466 "="
                                    Whitespace@466..467 " "
                                    EXPR_LET_VALUE@467..481
                                      EXPR_LIDENT@467..481
                                        Lident@467..481 "string_println"
                                    Semi@481..482 ";"
                                    Whitespace@482..487 "\n    "
                                    EXPR_LET_BODY@487..579
                                      EXPR_LET@487..579
                                        LetKeyword@487..490 "let"
                                        Whitespace@490..491 " "
                                        PATTERN_WILDCARD@491..493
                                          WildcardKeyword@491..492 "_"
                                          Whitespace@492..493 " "
                                        Eq@493..494 "="
                                        Whitespace@494..495 " "
                                        EXPR_LET_VALUE@495..526
                                          EXPR_CALL@495..526
                                            EXPR_LIDENT@495..502
                                              Lident@495..502 "printer"
                                            ARG_LIST@502..526
                                              LParen@502..503 "("
                                              ARG@503..525
                                                EXPR_CALL@503..525
                                                  EXPR_LIDENT@503..516
                                                    Lident@503..516 "int_to_string"
                                                  ARG_LIST@516..525
                                                    LParen@516..517 "("
                                                    ARG@517..524
                                                      EXPR_LIDENT@517..524
                                                        Lident@517..524 "applied"
                                                    RParen@524..525 ")"
                                              RParen@525..526 ")"
                                        Semi@526..527 ";"
                                        Whitespace@527..532 "\n    "
                                        EXPR_LET_BODY@532..579
                                          EXPR_LET@532..579
                                            LetKeyword@532..535 "let"
                                            Whitespace@535..536 " "
                                            PATTERN_WILDCARD@536..538
                                              WildcardKeyword@536..537 "_"
                                              Whitespace@537..538 " "
                                            Eq@538..539 "="
                                            Whitespace@539..540 " "
                                            EXPR_LET_VALUE@540..570
                                              EXPR_CALL@540..570
                                                EXPR_LIDENT@540..547
                                                  Lident@540..547 "printer"
                                                ARG_LIST@547..570
                                                  LParen@547..548 "("
                                                  ARG@548..569
                                                    EXPR_CALL@548..569
                                                      EXPR_LIDENT@548..561
                                                        Lident@548..561 "int_to_string"
                                                      ARG_LIST@561..569
                                                        LParen@561..562 "("
                                                        ARG@562..568
                                                          EXPR_LIDENT@562..568
                                                            Lident@562..568 "direct"
                                                        RParen@568..569 ")"
                                                  RParen@569..570 ")"
                                            Semi@570..571 ";"
                                            Whitespace@571..576 "\n    "
                                            EXPR_LET_BODY@576..579
                                              EXPR_UNIT@576..579
                                                LParen@576..577 "("
                                                RParen@577..578 ")"
                                                Whitespace@578..579 "\n"
      RBrace@579..580 "}"
      Whitespace@580..581 "\n"