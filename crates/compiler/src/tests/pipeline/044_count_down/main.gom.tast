extern type Duration

extern "go" "time" sleep(d: Duration) -> unit

extern "go" "time" duration(nanos: int32) -> Duration

fn main() -> unit {
    let counter/0: Ref[int32] = (ref : (int32) -> Ref[int32])(0);
    go || => {
        while (ref_get : (Ref[int32]) -> int32)((counter/0 : Ref[int32])) < 10 {
            {
                (string_println : (string) -> unit)("hello");
                (sleep : (Duration) -> unit)((duration : (int32) -> Duration)(1000));
                (ref_set : (Ref[int32], int32) -> unit)((counter/0 : Ref[int32]), (ref_get : (Ref[int32]) -> int32)((counter/0 : Ref[int32])) + 1);
                ();
            }
        };
    };
    while (ref_get : (Ref[int32]) -> int32)((counter/0 : Ref[int32])) < 10 {
        {
            ();
        }
    };
}