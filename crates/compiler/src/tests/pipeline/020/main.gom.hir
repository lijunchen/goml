struct Point { x: int32, y: int32 }

struct Wrapper[T0] { value: T0 }

enum Shape[T1] { Dot(Point), Wrapped(Wrapper[T1]), Origin }

fn bounce_int(local_0: Shape[int32]) -> Shape[int32] {
  match local_0 {
    Shape::Dot(local_1) => Shape::Dot(local_1),
    Shape::Wrapped(local_2) => Shape::Wrapped(local_2),
    Shape::Origin => Shape::Origin,
  }
}

fn wrap_unit(local_0: Wrapper[()]) -> Shape[()] {
  Shape::Wrapped(local_0)
}

fn pick(local_0: bool, local_1: Point, local_2: Wrapper[int32]) -> Shape[int32] {
  match local_0 {
    true => Shape::Dot(local_1),
    false => Shape::Wrapped(local_2),
  }
}

fn describe[T2](local_0: Shape[T2]) -> int32 {
  match local_0 {
    Shape::Dot(_) => 1,
    Shape::Wrapped(_) => 2,
    Shape::Origin => 0,
  }
}

fn point32_to_string(local_0: Point) -> string {
  let Point { x: local_1, y: local_2 } = local_0 in
  let local_3 = "Point { x: " + int32_to_string(local_1) in
  let local_4 = local_3 + ", y: " in
  let local_5 = local_4 + int32_to_string(local_2) in
  local_5 + " }"
}

fn wrapper_int32_to_string(local_0: Wrapper[int32]) -> string {
  let Wrapper { value: local_1 } = local_0 in
  let local_2 = "Wrapper[int32] { value: " + int32_to_string(local_1) in
  local_2 + " }"
}

fn wrapper_unit_to_string(local_0: Wrapper[()]) -> string {
  let Wrapper { value: local_1 } = local_0 in
  let local_2 = "Wrapper[unit] { value: " + unit_to_string(local_1) in
  local_2 + " }"
}

fn shape_int32_to_string(local_0: Shape[int32]) -> string {
  match local_0 {
    Shape::Dot(local_1) => let local_2 = "Shape::Dot(" + point32_to_string(local_1) in
    local_2 + ")",
    Shape::Wrapped(local_3) => let local_4 = "Shape::Wrapped(" + wrapper_int32_to_string(local_3) in
    local_4 + ")",
    Shape::Origin => "Shape::Origin",
  }
}

fn shape_unit_to_string(local_0: Shape[()]) -> string {
  match local_0 {
    Shape::Dot(local_1) => let local_2 = "Shape::Dot(" + point32_to_string(local_1) in
    local_2 + ")",
    Shape::Wrapped(local_3) => let local_4 = "Shape::Wrapped(" + wrapper_unit_to_string(local_3) in
    local_4 + ")",
    Shape::Origin => "Shape::Origin",
  }
}

fn main() -> () {
  let _ = string_println(point32_to_string(Point::Point(3, 4))) in
  let _ = string_println(wrapper_int32_to_string(Wrapper::Wrapper(7))) in
  let _ = string_println(wrapper_unit_to_string(Wrapper::Wrapper(()))) in
  let local_0 = bounce_int(Shape::Origin) in
  let _ = string_println(shape_int32_to_string(Shape::Dot(Point::Point(3, 4)))) in
  let _ = string_println(shape_int32_to_string(Shape::Wrapped(Wrapper::Wrapper(7)))) in
  let _ = string_println(shape_int32_to_string(local_0)) in
  let _ = string_println(shape_unit_to_string(Shape::Dot(Point::Point(3, 4)))) in
  let _ = string_println(shape_unit_to_string(Shape::Wrapped(Wrapper::Wrapper(())))) in
  let _ = string_println(shape_unit_to_string(Shape::Origin)) in
  let _ = describe(bounce_int(Shape::Origin)) in
  string_println("struct enums!")
}