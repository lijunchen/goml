#[derive(ToString)]
struct Point {
    x: int32,
    y: int32,
}

impl Point {
  fn to_string(self: Point) -> string {
      let Point { x: x, y: y } = self in
      string_add(string_add(string_add(string_add(string_add(string_add("Point { ", "x: "), x.to_string()), ", "), "y: "), y.to_string()), " }")
  }
}

#[derive(ToString)]
enum Message {
    Quit,
    Move(int32, int32),
    Write(string)
}

impl Message {
  fn to_string(self: Message) -> string {
      match self {
          Message::Quit => "Message::Quit",
          Message::Move(__field0, __field1) => string_add(string_add(string_add(string_add("Message::Move(", __field0.to_string()), ", "), __field1.to_string()), ")"),
          Message::Write(__field0) => string_add(string_add("Message::Write(", __field0), ")"),
      }
  }
}

fn main() -> unit {
    let point = Point {
        x: 4,
        y: 7
    } in
    let summary = point.to_string() in
    let mv = Message::Move(1, 2).to_string() in
    let text = Message::Write("done").to_string() in
    let exit = Message::Quit.to_string() in
    let _ = string_println(summary) in
    let _ = string_println(mv) in
    let _ = string_println(text) in
    let _ = string_println(exit) in
    ()
}

