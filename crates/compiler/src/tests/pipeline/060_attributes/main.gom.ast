#[derive(ToString)]
struct Point {
    x: int32,
    y: int32,
}

impl Point {
  fn to_string(self: Point) -> string {
    let Point { x: x, y: y } = self;
    "Point { " + "x: " + x.to_string() + ", " + "y: " + y.to_string() + " }";
  }
}

#[derive(ToString)]
enum Message {
    Quit,
    Move(int32, int32),
    Write(string)
}

impl Message {
  fn to_string(self: Message) -> string {
    match self {
        Message::Quit => "Message::Quit",
        Message::Move(__field0, __field1) => "Message::Move(" + __field0.to_string() + ", " + __field1.to_string() + ")",
        Message::Write(__field0) => "Message::Write(" + __field0 + ")",
    }
  }
}

fn main() -> unit {
  let point = Point {
      x: 4,
      y: 7
  };
  let summary = point.to_string();
  let mv = Message::Move(1, 2).to_string();
  let text = Message::Write("done").to_string();
  let exit = Message::Quit.to_string();
  string_println(summary);
  string_println(mv);
  string_println(text);
  string_println(exit);
  ();
}

