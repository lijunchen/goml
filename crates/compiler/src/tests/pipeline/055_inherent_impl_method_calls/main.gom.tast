impl Shape{
  fn name(self/0: Shape) -> string {
      "Shape";
  }
  fn rename(self/1: Shape, suffix/2: string) -> string {
      (Shape::name : (Shape) -> string)((self/1 : Shape)) + (suffix/2 : string);
  }
  fn join(self/3: Shape, left/4: string, right/5: string) -> string {
      (left/4 : string) + (Shape::name : (Shape) -> string)((self/3 : Shape)) + (right/5 : string);
  }
}

fn announce(shape/6: Shape) -> unit {
    let base/7: string = (Shape::name : (Shape) -> string)((shape/6 : Shape));
    let with_suffix/8: string = (Shape::rename : (Shape, string) -> string)((shape/6 : Shape), "!");
    let combined/9: string = (Shape::join : (Shape, string, string) -> string)((shape/6 : Shape), (base/7 : string), (with_suffix/8 : string));
    let _ : unit = (string_println : (string) -> unit)((combined/9 : string));
    ();
}

fn main() -> unit {
    let shape/10: Shape = Shape {};
    (announce : (Shape) -> unit)((shape/10 : Shape));
    ();
}