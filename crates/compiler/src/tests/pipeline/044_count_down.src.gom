package main

import (
    "fmt"
    "time"
)

func string_println(s string) struct{} {
    fmt.Println(s)
    return struct{}{}
}

type ref_int_x struct {
    value int
}

func ref__Ref_int(value int) *ref_int_x {
    return &ref_int_x{
        value: value,
    }
}

func ref_get__Ref_int(reference *ref_int_x) int {
    return reference.value
}

func ref_set__Ref_int(reference *ref_int_x, value int) struct{} {
    reference.value = value
    return struct{}{}
}

type closure_env_main_0 struct {
    counter_0 *ref_int_x
}

type Duration = time.Duration

func main0() struct{} {
    var ret12 struct{}
    var counter__0 *ref_int_x = ref__Ref_int(0)
    var t6 closure_env_main_0 = closure_env_main_0{
        counter_0: counter__0,
    }
    go __closure_apply4(t6)
    var cond13 bool
    for {
        var t7 int = ref_get__Ref_int(counter__0)
        cond13 = t7 < 10
        if !cond13 {
            break
        }
    }
    ret12 = struct{}{}
    return ret12
}

func __closure_apply4(env5 closure_env_main_0) struct{} {
    var ret14 struct{}
    var counter__0 *ref_int_x = env5.counter_0
    var cond15 bool
    for {
        var t8 int = ref_get__Ref_int(counter__0)
        cond15 = t8 < 10
        if !cond15 {
            break
        }
        string_println("hello")
        var t9 Duration = time.Duration(1000)
        time.Sleep(t9)
        var t11 int = ref_get__Ref_int(counter__0)
        var t10 int = t11 + 1
        ref_set__Ref_int(counter__0, t10)
    }
    ret14 = struct{}{}
    return ret14
}

func main() {
    main0()
}
