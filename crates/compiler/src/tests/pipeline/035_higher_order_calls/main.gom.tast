fn double(x/0: int32) -> int32 {
    (x/0 : int32) * 2;
}

fn increment(x/1: int32) -> int32 {
    (x/1 : int32) + 1;
}

fn chooser(flag/2: bool) -> (int32) -> int32 {
    if (flag/2 : bool) {
        {
            (double : (int32) -> int32);
        }
    } else {
        {
            (increment : (int32) -> int32);
        }
    };
}

fn main() -> unit {
    let xs/3: [(int32) -> int32; 2] = [(double : (int32) -> int32), (increment : (int32) -> int32)];
    let f/4: (int32) -> int32 = (array_get : ([(int32) -> int32; 18446744073709551615], int32) -> (int32) -> int32)((xs/3 : [(int32) -> int32; 2]), 0);
    let g/5: (int32) -> int32 = (array_get : ([(int32) -> int32; 18446744073709551615], int32) -> (int32) -> int32)((xs/3 : [(int32) -> int32; 2]), 1);
    let _ : unit = (string_println : (string) -> unit)((int32_to_string : (int32) -> string)((g/5 : (int32) -> int32)((f/4 : (int32) -> int32)(10))));
    let chosen/6: (int32) -> int32 = (chooser : (bool) -> (int32) -> int32)(true);
    let applied/7: int32 = (chosen/6 : (int32) -> int32)(5);
    let direct/8: int32 = (chooser : (bool) -> (int32) -> int32)(false)(5);
    let printer/9: (string) -> unit = (string_println : (string) -> unit);
    let _ : unit = (printer/9 : (string) -> unit)((int32_to_string : (int32) -> string)((applied/7 : int32)));
    let _ : unit = (printer/9 : (string) -> unit)((int32_to_string : (int32) -> string)((direct/8 : int32)));
    ();
}