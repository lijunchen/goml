fn double(x/0: int32) -> int32 {
    (x/0 : int32) * 2;
}

fn increment(x/1: int32) -> int32 {
    (x/1 : int32) + 1;
}

fn apply_once(f/2: (int32) -> int32, value/3: int32) -> int32 {
    (f/2 : (int32) -> int32)((value/3 : int32));
}

fn compose(f/4: (int32) -> int32, g/5: (int32) -> int32, value/6: int32) -> int32 {
    (f/4 : (int32) -> int32)((g/5 : (int32) -> int32)((value/6 : int32)));
}

fn main() -> unit {
    let local/7: (int32) -> int32 = (double : (int32) -> int32);
    let first/8: int32 = (apply_once : ((int32) -> int32, int32) -> int32)((local/7 : (int32) -> int32), 4);
    let composed/9: int32 = (compose : ((int32) -> int32, (int32) -> int32, int32) -> int32)((double : (int32) -> int32), (increment : (int32) -> int32), (first/8 : int32));
    let closure_apply/11: (int32) -> int32 = |value/10: int32| => (apply_once : ((int32) -> int32, int32) -> int32)((increment : (int32) -> int32), (value/10 : int32));
    let closure_result/12: int32 = (closure_apply/11 : (int32) -> int32)((composed/9 : int32));
    let global_invoker/15: ((int32) -> int32, int32) -> int32 = |func_to_call/13: (int32) -> int32, value/14: int32| => (apply_once : ((int32) -> int32, int32) -> int32)((func_to_call/13 : (int32) -> int32), (value/14 : int32));
    let invoked_with_global/16: int32 = (global_invoker/15 : ((int32) -> int32, int32) -> int32)((double : (int32) -> int32), 3);
    let composer_closure/18: (int32) -> int32 = |value/17: int32| => (compose : ((int32) -> int32, (int32) -> int32, int32) -> int32)((double : (int32) -> int32), (increment : (int32) -> int32), (value/17 : int32));
    let composed_by_closure/19: int32 = (composer_closure/18 : (int32) -> int32)(5);
    let printer/20: (string) -> unit = (string_println : (string) -> unit);
    let _ : unit = (printer/20 : (string) -> unit)((int32_to_string : (int32) -> string)((composed/9 : int32)));
    let _ : unit = (printer/20 : (string) -> unit)((int32_to_string : (int32) -> string)((closure_result/12 : int32)));
    let _ : unit = (printer/20 : (string) -> unit)((int32_to_string : (int32) -> string)((invoked_with_global/16 : int32)));
    let _ : unit = (printer/20 : (string) -> unit)((int32_to_string : (int32) -> string)((composed_by_closure/19 : int32)));
    ();
}