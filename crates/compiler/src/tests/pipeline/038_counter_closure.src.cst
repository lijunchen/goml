FILE@0..767
  FN@0..279
    FnKeyword@0..2 "fn"
    Whitespace@2..3 " "
    Lident@3..15 "make_counter"
    PARAM_LIST@15..18
      LParen@15..16 "("
      RParen@16..17 ")"
      Whitespace@17..18 " "
    Arrow@18..20 "->"
    Whitespace@20..21 " "
    TYPE_TUPLE@21..45
      TYPE_LIST@21..45
        LParen@21..22 "("
        TYPE_FUNC@22..31
          TYPE_TUPLE@22..25
            TYPE_LIST@22..25
              LParen@22..23 "("
              RParen@23..24 ")"
              Whitespace@24..25 " "
          Arrow@25..27 "->"
          Whitespace@27..28 " "
          TYPE_INT@28..31
            IntKeyword@28..31 "int"
        Comma@31..32 ","
        Whitespace@32..33 " "
        TYPE_FUNC@33..43
          TYPE_TUPLE@33..36
            TYPE_LIST@33..36
              LParen@33..34 "("
              RParen@34..35 ")"
              Whitespace@35..36 " "
          Arrow@36..38 "->"
          Whitespace@38..39 " "
          TYPE_UNIT@39..43
            UnitKeyword@39..43 "unit"
        RParen@43..44 ")"
        Whitespace@44..45 " "
    BLOCK@45..279
      LBrace@45..46 "{"
      Whitespace@46..51 "\n    "
      STMT_LET@51..74
        LetKeyword@51..54 "let"
        Whitespace@54..55 " "
        PATTERN_VARIABLE@55..60
          Lident@55..59 "cell"
          Whitespace@59..60 " "
        Eq@60..61 "="
        Whitespace@61..62 " "
        EXPR_CALL@62..68
          EXPR_LIDENT@62..65
            Lident@62..65 "ref"
          ARG_LIST@65..68
            LParen@65..66 "("
            ARG@66..67
              EXPR_INT@66..67
                Int@66..67 "0"
            RParen@67..68 ")"
        Semi@68..69 ";"
        Whitespace@69..74 "\n    "
      STMT_LET@74..189
        LetKeyword@74..77 "let"
        Whitespace@77..78 " "
        PATTERN_VARIABLE@78..83
          Lident@78..82 "next"
          Whitespace@82..83 " "
        Eq@83..84 "="
        Whitespace@84..85 " "
        EXPR_CLOSURE@85..183
          CLOSURE_PARAM_LIST@85..88
            OrOr@85..87 "||"
            Whitespace@87..88 " "
          EXPR_CLOSURE_BODY@88..183
            BLOCK@88..183
              LBrace@88..89 "{"
              Whitespace@89..98 "\n        "
              STMT_LET@98..136
                LetKeyword@98..101 "let"
                Whitespace@101..102 " "
                PATTERN_VARIABLE@102..107
                  Lident@102..106 "next"
                  Whitespace@106..107 " "
                Eq@107..108 "="
                Whitespace@108..109 " "
                EXPR_BINARY@109..126
                  EXPR_CALL@109..123
                    EXPR_LIDENT@109..116
                      Lident@109..116 "ref_get"
                    ARG_LIST@116..123
                      LParen@116..117 "("
                      ARG@117..121
                        EXPR_LIDENT@117..121
                          Lident@117..121 "cell"
                      RParen@121..122 ")"
                      Whitespace@122..123 " "
                  Plus@123..124 "+"
                  Whitespace@124..125 " "
                  EXPR_INT@125..126
                    Int@125..126 "1"
                Semi@126..127 ";"
                Whitespace@127..136 "\n        "
              STMT_LET@136..173
                LetKeyword@136..139 "let"
                Whitespace@139..140 " "
                PATTERN_WILDCARD@140..142
                  WildcardKeyword@140..141 "_"
                  Whitespace@141..142 " "
                Eq@142..143 "="
                Whitespace@143..144 " "
                EXPR_CALL@144..163
                  EXPR_LIDENT@144..151
                    Lident@144..151 "ref_set"
                  ARG_LIST@151..163
                    LParen@151..152 "("
                    ARG@152..158
                      EXPR_LIDENT@152..156
                        Lident@152..156 "cell"
                      Comma@156..157 ","
                      Whitespace@157..158 " "
                    ARG@158..162
                      EXPR_LIDENT@158..162
                        Lident@158..162 "next"
                    RParen@162..163 ")"
                Semi@163..164 ";"
                Whitespace@164..173 "\n        "
              EXPR_LIDENT@173..182
                Lident@173..177 "next"
                Whitespace@177..182 "\n    "
              RBrace@182..183 "}"
        Semi@183..184 ";"
        Whitespace@184..189 "\n    "
      STMT_LET@189..262
        LetKeyword@189..192 "let"
        Whitespace@192..193 " "
        PATTERN_VARIABLE@193..199
          Lident@193..198 "reset"
          Whitespace@198..199 " "
        Eq@199..200 "="
        Whitespace@200..201 " "
        EXPR_CLOSURE@201..256
          CLOSURE_PARAM_LIST@201..204
            OrOr@201..203 "||"
            Whitespace@203..204 " "
          EXPR_CLOSURE_BODY@204..256
            BLOCK@204..256
              LBrace@204..205 "{"
              Whitespace@205..214 "\n        "
              STMT_LET@214..248
                LetKeyword@214..217 "let"
                Whitespace@217..218 " "
                PATTERN_WILDCARD@218..220
                  WildcardKeyword@218..219 "_"
                  Whitespace@219..220 " "
                Eq@220..221 "="
                Whitespace@221..222 " "
                EXPR_CALL@222..238
                  EXPR_LIDENT@222..229
                    Lident@222..229 "ref_set"
                  ARG_LIST@229..238
                    LParen@229..230 "("
                    ARG@230..236
                      EXPR_LIDENT@230..234
                        Lident@230..234 "cell"
                      Comma@234..235 ","
                      Whitespace@235..236 " "
                    ARG@236..237
                      EXPR_INT@236..237
                        Int@236..237 "0"
                    RParen@237..238 ")"
                Semi@238..239 ";"
                Whitespace@239..248 "\n        "
              EXPR_UNIT@248..255
                LParen@248..249 "("
                RParen@249..250 ")"
                Whitespace@250..255 "\n    "
              RBrace@255..256 "}"
        Semi@256..257 ";"
        Whitespace@257..262 "\n    "
      EXPR_TUPLE@262..276
        LParen@262..263 "("
        EXPR_LIDENT@263..267
          Lident@263..267 "next"
        Comma@267..268 ","
        Whitespace@268..269 " "
        EXPR_LIDENT@269..274
          Lident@269..274 "reset"
        RParen@274..275 ")"
        Whitespace@275..276 "\n"
      RBrace@276..277 "}"
      Whitespace@277..279 "\n\n"
  FN@279..767
    FnKeyword@279..281 "fn"
    Whitespace@281..282 " "
    Lident@282..286 "main"
    PARAM_LIST@286..289
      LParen@286..287 "("
      RParen@287..288 ")"
      Whitespace@288..289 " "
    BLOCK@289..767
      LBrace@289..290 "{"
      Whitespace@290..295 "\n    "
      STMT_LET@295..329
        LetKeyword@295..298 "let"
        Whitespace@298..299 " "
        PATTERN_VARIABLE@299..307
          Lident@299..306 "counter"
          Whitespace@306..307 " "
        Eq@307..308 "="
        Whitespace@308..309 " "
        EXPR_CALL@309..323
          EXPR_LIDENT@309..321
            Lident@309..321 "make_counter"
          ARG_LIST@321..323
            LParen@321..322 "("
            RParen@322..323 ")"
        Semi@323..324 ";"
        Whitespace@324..329 "\n    "
      STMT_LET@329..362
        LetKeyword@329..332 "let"
        Whitespace@332..333 " "
        PATTERN_TUPLE@333..347
          LParen@333..334 "("
          PATTERN_VARIABLE@334..338
            Lident@334..338 "next"
          Comma@338..339 ","
          Whitespace@339..340 " "
          PATTERN_VARIABLE@340..345
            Lident@340..345 "reset"
          RParen@345..346 ")"
          Whitespace@346..347 " "
        Eq@347..348 "="
        Whitespace@348..349 " "
        EXPR_LIDENT@349..356
          Lident@349..356 "counter"
        Semi@356..357 ";"
        Whitespace@357..362 "\n    "
      STMT_LET@362..386
        LetKeyword@362..365 "let"
        Whitespace@365..366 " "
        PATTERN_VARIABLE@366..372
          Lident@366..371 "first"
          Whitespace@371..372 " "
        Eq@372..373 "="
        Whitespace@373..374 " "
        EXPR_CALL@374..380
          EXPR_LIDENT@374..378
            Lident@374..378 "next"
          ARG_LIST@378..380
            LParen@378..379 "("
            RParen@379..380 ")"
        Semi@380..381 ";"
        Whitespace@381..386 "\n    "
      STMT_LET@386..411
        LetKeyword@386..389 "let"
        Whitespace@389..390 " "
        PATTERN_VARIABLE@390..397
          Lident@390..396 "second"
          Whitespace@396..397 " "
        Eq@397..398 "="
        Whitespace@398..399 " "
        EXPR_CALL@399..405
          EXPR_LIDENT@399..403
            Lident@399..403 "next"
          ARG_LIST@403..405
            LParen@403..404 "("
            RParen@404..405 ")"
        Semi@405..406 ";"
        Whitespace@406..411 "\n    "
      STMT_LET@411..432
        LetKeyword@411..414 "let"
        Whitespace@414..415 " "
        PATTERN_WILDCARD@415..417
          WildcardKeyword@415..416 "_"
          Whitespace@416..417 " "
        Eq@417..418 "="
        Whitespace@418..419 " "
        EXPR_CALL@419..426
          EXPR_LIDENT@419..424
            Lident@419..424 "reset"
          ARG_LIST@424..426
            LParen@424..425 "("
            RParen@425..426 ")"
        Semi@426..427 ";"
        Whitespace@427..432 "\n    "
      STMT_LET@432..456
        LetKeyword@432..435 "let"
        Whitespace@435..436 " "
        PATTERN_VARIABLE@436..442
          Lident@436..441 "third"
          Whitespace@441..442 " "
        Eq@442..443 "="
        Whitespace@443..444 " "
        EXPR_CALL@444..450
          EXPR_LIDENT@444..448
            Lident@444..448 "next"
          ARG_LIST@448..450
            LParen@448..449 "("
            RParen@449..450 ")"
        Semi@450..451 ";"
        Whitespace@451..456 "\n    "
      STMT_LET@456..494
        LetKeyword@456..459 "let"
        Whitespace@459..460 " "
        PATTERN_VARIABLE@460..472
          Lident@460..471 "new_counter"
          Whitespace@471..472 " "
        Eq@472..473 "="
        Whitespace@473..474 " "
        EXPR_CALL@474..488
          EXPR_LIDENT@474..486
            Lident@474..486 "make_counter"
          ARG_LIST@486..488
            LParen@486..487 "("
            RParen@487..488 ")"
        Semi@488..489 ";"
        Whitespace@489..494 "\n    "
      STMT_LET@494..531
        LetKeyword@494..497 "let"
        Whitespace@497..498 " "
        PATTERN_TUPLE@498..512
          LParen@498..499 "("
          PATTERN_VARIABLE@499..507
            Lident@499..507 "new_next"
          Comma@507..508 ","
          Whitespace@508..509 " "
          PATTERN_WILDCARD@509..510
            WildcardKeyword@509..510 "_"
          RParen@510..511 ")"
          Whitespace@511..512 " "
        Eq@512..513 "="
        Whitespace@513..514 " "
        EXPR_LIDENT@514..525
          Lident@514..525 "new_counter"
        Semi@525..526 ";"
        Whitespace@526..531 "\n    "
      STMT_LET@531..560
        LetKeyword@531..534 "let"
        Whitespace@534..535 " "
        PATTERN_VARIABLE@535..542
          Lident@535..541 "fourth"
          Whitespace@541..542 " "
        Eq@542..543 "="
        Whitespace@543..544 " "
        EXPR_CALL@544..554
          EXPR_LIDENT@544..552
            Lident@544..552 "new_next"
          ARG_LIST@552..554
            LParen@552..553 "("
            RParen@553..554 ")"
        Semi@554..555 ";"
        Whitespace@555..560 "\n    "
      STMT_LET@560..610
        LetKeyword@560..563 "let"
        Whitespace@563..564 " "
        PATTERN_WILDCARD@564..566
          WildcardKeyword@564..565 "_"
          Whitespace@565..566 " "
        Eq@566..567 "="
        Whitespace@567..568 " "
        EXPR_CALL@568..604
          EXPR_LIDENT@568..582
            Lident@568..582 "string_println"
          ARG_LIST@582..604
            LParen@582..583 "("
            ARG@583..603
              EXPR_CALL@583..603
                EXPR_LIDENT@583..596
                  Lident@583..596 "int_to_string"
                ARG_LIST@596..603
                  LParen@596..597 "("
                  ARG@597..602
                    EXPR_LIDENT@597..602
                      Lident@597..602 "first"
                  RParen@602..603 ")"
            RParen@603..604 ")"
        Semi@604..605 ";"
        Whitespace@605..610 "\n    "
      STMT_LET@610..661
        LetKeyword@610..613 "let"
        Whitespace@613..614 " "
        PATTERN_WILDCARD@614..616
          WildcardKeyword@614..615 "_"
          Whitespace@615..616 " "
        Eq@616..617 "="
        Whitespace@617..618 " "
        EXPR_CALL@618..655
          EXPR_LIDENT@618..632
            Lident@618..632 "string_println"
          ARG_LIST@632..655
            LParen@632..633 "("
            ARG@633..654
              EXPR_CALL@633..654
                EXPR_LIDENT@633..646
                  Lident@633..646 "int_to_string"
                ARG_LIST@646..654
                  LParen@646..647 "("
                  ARG@647..653
                    EXPR_LIDENT@647..653
                      Lident@647..653 "second"
                  RParen@653..654 ")"
            RParen@654..655 ")"
        Semi@655..656 ";"
        Whitespace@656..661 "\n    "
      STMT_LET@661..711
        LetKeyword@661..664 "let"
        Whitespace@664..665 " "
        PATTERN_WILDCARD@665..667
          WildcardKeyword@665..666 "_"
          Whitespace@666..667 " "
        Eq@667..668 "="
        Whitespace@668..669 " "
        EXPR_CALL@669..705
          EXPR_LIDENT@669..683
            Lident@669..683 "string_println"
          ARG_LIST@683..705
            LParen@683..684 "("
            ARG@684..704
              EXPR_CALL@684..704
                EXPR_LIDENT@684..697
                  Lident@684..697 "int_to_string"
                ARG_LIST@697..704
                  LParen@697..698 "("
                  ARG@698..703
                    EXPR_LIDENT@698..703
                      Lident@698..703 "third"
                  RParen@703..704 ")"
            RParen@704..705 ")"
        Semi@705..706 ";"
        Whitespace@706..711 "\n    "
      STMT_LET@711..762
        LetKeyword@711..714 "let"
        Whitespace@714..715 " "
        PATTERN_WILDCARD@715..717
          WildcardKeyword@715..716 "_"
          Whitespace@716..717 " "
        Eq@717..718 "="
        Whitespace@718..719 " "
        EXPR_CALL@719..756
          EXPR_LIDENT@719..733
            Lident@719..733 "string_println"
          ARG_LIST@733..756
            LParen@733..734 "("
            ARG@734..755
              EXPR_CALL@734..755
                EXPR_LIDENT@734..747
                  Lident@734..747 "int_to_string"
                ARG_LIST@747..755
                  LParen@747..748 "("
                  ARG@748..754
                    EXPR_LIDENT@748..754
                      Lident@748..754 "fourth"
                  RParen@754..755 ")"
            RParen@755..756 ")"
        Semi@756..757 ";"
        Whitespace@757..762 "\n    "
      EXPR_UNIT@762..765
        LParen@762..763 "("
        RParen@763..764 ")"
        Whitespace@764..765 "\n"
      RBrace@765..766 "}"
      Whitespace@766..767 "\n"